<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title> - Hugo Whisper Theme</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.aad43d4ecb69a264f2539b89d7f779d5f3cdff22e7585fe5fc3c77272f1c2696.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="/"><img alt="Logo" src="/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="/"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            



<div class="docs-menu">
  <div class="form-input-group mb-3 pr-3">
    <label>Version</label>
    <div class="custom_select">
      <select onchange="this.options[this.selectedIndex].value && (window.location = this.options[this.selectedIndex].value);">
        
          
            <option value="/docs/">docs</option>
          
        
          
            <option value="/v1.5/" selected>v1.5</option>
          
        
      </select>
    </div>
  </div>
  <ul class="toc">
    
    <h1 id="table-of-contents">Table of contents</h1>
<ul>
<li><a href="README.md">Introduction</a></li>
</ul>
<h2 id="prologue">Prologue</h2>
<ul>
<li><a href="prologue/introduction-and-installaton.md">Introduction and Installaton</a></li>
<li><a href="prologue/contributing-guide.md">Contributing Guide</a></li>
<li><a href="prologue/how-to-contribute.md">How To Contribute</a></li>
<li><a href="prologue/release-cycle.md">Release Cycle</a></li>
</ul>
<h2 id="whats-new">What&rsquo;s New</h2>
<ul>
<li><a href="whats-new/masonite-1.3.md">Masonite 1.3</a></li>
<li><a href="whats-new/masonite-1.4.md">Masonite 1.4</a></li>
<li><a href="whats-new/masonite-1.5.md">Masonite 1.5</a></li>
</ul>
<h2 id="upgrade-guide">Upgrade Guide</h2>
<ul>
<li><a href="upgrade-guide/masonite-1.3-to-1.4.md">Masonite 1.3 to 1.4</a></li>
<li><a href="upgrade-guide/masonite-1.4-to-1.5.md">Masonite 1.4 to 1.5</a></li>
</ul>
<h2 id="the-basics">The Basics</h2>
<ul>
<li><a href="the-basics/routing.md">Routing</a></li>
<li><a href="the-basics/controllers.md">Controllers</a></li>
<li><a href="the-basics/views.md">Views</a></li>
<li><a href="the-basics/requests.md">Requests</a></li>
<li><a href="the-basics/static-files.md">Static Files</a></li>
<li><a href="the-basics/helper-functions.md">Helper Functions</a></li>
</ul>
<h2 id="the-craft-command">The Craft Command</h2>
<ul>
<li><a href="the-craft-command/introduction.md">Introduction</a></li>
<li><a href="the-craft-command/creating-commands.md">Creating Commands</a></li>
<li><a href="the-craft-command/authentication-system.md">Authentication System</a></li>
</ul>
<h2 id="architectural-concepts">Architectural Concepts</h2>
<ul>
<li><a href="architectural-concepts/request-lifecycle.md">Request Lifecycle</a></li>
<li><a href="architectural-concepts/service-providers.md">Service Providers</a></li>
<li><a href="architectural-concepts/service-container.md">Service Container</a></li>
</ul>
<h2 id="advanced">Advanced</h2>
<ul>
<li><a href="advanced/middleware.md">Middleware</a></li>
<li><a href="advanced/validation.md">Validation</a></li>
<li><a href="advanced/creating-packages.md">Creating Packages</a></li>
<li><a href="advanced/extending-classes.md">Extending Classes</a></li>
<li><a href="advanced/creating-a-mail-driver.md">Creating a Mail Driver</a></li>
<li><a href="advanced/sessions.md">Sessions</a></li>
</ul>
<h2 id="useful-features">Useful Features</h2>
<ul>
<li><a href="useful-features/template-caching.md">Template Caching</a></li>
<li><a href="useful-features/mail.md">Mail</a></li>
<li><a href="useful-features/uploading.md">Uploading</a></li>
<li><a href="useful-features/view-composers-and-sharing.md">View Composers and Sharing</a></li>
<li><a href="useful-features/caching.md">Caching</a></li>
<li><a href="useful-features/broadcasting.md">Broadcasting</a></li>
<li><a href="useful-features/queues-and-jobs.md">Queues and Jobs</a></li>
<li><a href="useful-features/compiling-assets.md">Compiling Assets</a></li>
</ul>
<h2 id="security">Security</h2>
<ul>
<li><a href="security/authentication.md">Authentication</a></li>
<li><a href="security/encryption.md">Encryption</a></li>
<li><a href="security/csrf-protection.md">CSRF Protection</a></li>
</ul>
<h2 id="orator-orm">Orator ORM</h2>
<ul>
<li><a href="https://orator-orm.com/docs/0.9/basic_usage.html">Basic Usage</a></li>
<li><a href="https://orator-orm.com/docs/0.9/query_builder.html">Query Builder</a></li>
<li><a href="https://orator-orm.com/docs/0.9/orm.html">ORM</a></li>
<li><a href="https://orator-orm.com/docs/0.9/pagination.html">Pagination</a></li>
<li><a href="https://orator-orm.com/docs/0.9/schema_builder.html">Schema Builder</a></li>
<li><a href="orator-orm/database-migrations.md">Database Migrations</a></li>
<li><a href="https://orator-orm.com/docs/0.9/collections.html">Collections</a></li>
</ul>
<h2 id="managers-and-drivers">Managers and Drivers</h2>
<ul>
<li><a href="managers-and-drivers/about-managers.md">About Managers</a></li>
<li><a href="managers-and-drivers/about-drivers.md">About Drivers</a></li>
<li><a href="managers-and-drivers/contracts.md">Contracts</a></li>
</ul>
<h2 id="official-packages">Official Packages</h2>
<ul>
<li><a href="https://masoniteframework.gitbooks.io/masonite-entry/content/">Masonite Entry</a></li>
<li><a href="http://billing.masoniteproject.com">Masonite Billing</a></li>
</ul>
<h2 id="creating-your-first-blog">Creating Your First Blog</h2>
<ul>
<li><a href="creating-your-first-blog/introduction.md">Introduction</a></li>
<li><a href="creating-your-first-blog/part-1-creating-our-first-route.md">Part 1 - Creating Our First Route</a></li>
<li><a href="creating-your-first-blog/part-2-creating-our-first-controller.md">Part 2 - Creating Our First Controller</a></li>
<li><a href="creating-your-first-blog/part-3-designing-our-blog.md">Part 3 - Designing Our Blog</a></li>
<li><a href="creating-your-first-blog/part-4-migrations.md">Part 4 - Migrations</a></li>
<li><a href="creating-your-first-blog/part-5-models.md">Part 5 - Models</a></li>
<li><a href="creating-your-first-blog/part-3-authentication.md">Part 3 - Authentication</a></li>
</ul>
    
  </ul>
</div>


          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title"></h1>
<div class="content ">
  <h1 id="masonite-13-to-14">Masonite 1.3 to 1.4</h1>
<h2 id="introduction">Introduction</h2>
<p>Masonite 1.4 brings several new features and a few new files. This is a very simple upgrade and most of the changes were done in the pip package of Masonite. <strong>The upgrade from 1.3 to 1.4 should take less than 10 minutes</strong></p>
<h2 id="requirementstxt-file">Requirements.txt File</h2>
<p>This requirement file has the <code>masonite&gt;=1.3,&lt;=1.3.99</code> requirement. This should be changed to <code>masonite&gt;=1.4,&lt;=1.4.99</code>. You should also run <code>pip install --upgrade -r requirements.txt</code> to upgrade the Masonite pip package.</p>
<h2 id="new-cache-folder">New Cache Folder</h2>
<p>There is now a new cache folder under <code>bootstrap/cache</code> which will be used to store any cached files you use with the caching feature. Simply create a new <code>bootstrap/cache</code> folder and optionally put a <code>.gitignore</code> file in it so your source control will pick it up.</p>
<h2 id="new-cache-and-broadcast-configuration">New Cache and Broadcast Configuration</h2>
<p>Masonite 1.4 brings a new <code>config/cache.py</code> and <code>config/broadcast.py</code> files. These files can be found on the <div>
    <a href="GitHub" target="_blank">GitHub</a>
</div> page and can be copied and pasted into your project. Take a look at the new <div>
    <a href="config/cache.py" target="_blank">config/cache.py</a>
</div> file and the <div>
    <a href="config/broadcast.py" target="_blank">config/broadcast.py</a>
</div> file. Just copy and paste those configuration files into your project.</p>
<h2 id="3-new-service-providers">3 New Service Providers</h2>
<p>Masonite comes with a lot of out of the box functionality and nearly all of it is optional but Masonite 1.4 ships with three new providers. Most Service Providers are not ran on every request and therefore does not add significant overhead to each request. To add these 3 new Service Providers simple add these to the bottom of the list of framework providers:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">PROVIDERS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Framework Providers</span>
    <span class="o">...</span>
    <span class="s1">&#39;masonite.providers.HelpersProvider.HelpersProvider&#39;</span><span class="p">,</span>
    <span class="s1">&#39;masonite.providers.QueueProvider.QueueProvider&#39;</span><span class="p">,</span>

    <span class="c1"># 3 New Providers in Masonite 1.4</span>
    <span class="s1">&#39;masonite.providers.BroadcastProvider.BroadcastProvider&#39;</span><span class="p">,</span>
    <span class="s1">&#39;masonite.providers.CacheProvider.CacheProvider&#39;</span><span class="p">,</span>
    <span class="s1">&#39;masonite.providers.CsrfProvider.CsrfProvider&#39;</span><span class="p">,</span>

    <span class="c1"># Third Party Providers</span>

    <span class="c1"># Application Providers</span>
    <span class="s1">&#39;app.providers.UserModelProvider.UserModelProvider&#39;</span><span class="p">,</span>
    <span class="s1">&#39;app.providers.MiddlewareProvider.MiddlewareProvider&#39;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div><p>Note however that if you add the <code>CsrfProvider</code> then you will also need the CSRF middleware which is new in Masonite 1.4. Read the section below to add the middleware</p>
<h2 id="csrf-and-csrf-middleware">CSRF and CSRF Middleware</h2>
<p>Masonite 1.4 adds CSRF protection. So anywhere there is any POST form request, you will need to add the <code>{{ csrf_field|safe }}</code> to it. For example:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;form action=&#34;/dashboard&#34; method=&#34;POST&#34;&gt;
    {{ csrf_field|safe }}
    &lt;input type=&#34;text&#34; name=&#34;first_name&#34;&gt;
&lt;/form&gt;
</code></pre></div><p>This type of protection prevents cross site forgery. In order to activate this feature, we also need to add the <div>
    <a href="CSRF%20middleware" target="_blank">CSRF middleware</a>
</div>. Copy and paste the middleware into your project under the <code>app/http/middleware/CsrfMiddleware.py</code> file.</p>
<p>Lastly, put that middleware into the <code>HTTP_MIDDLEWARE</code> list inside <code>config/middleware.py</code> like so:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">HTTP_MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;app.http.middleware.LoadUserMiddleware.LoadUserMiddleware&#39;</span><span class="p">,</span>
    <span class="s1">&#39;app.http.middleware.CsrfMiddleware.CsrfMiddleware&#39;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div><h2 id="changes-to-database-configuration">Changes to Database Configuration</h2>
<p>There has been a slight change in the constants used in the <div>
    <a href="config/database.py" target="_blank">config/database.py</a>
</div> file. Mainly just for consistency and coding standards. Your file may have some slight changes but this change is optional. If you do make this change, be sure to change any places in your code where you have used the Orator Query Builder. For example any place you may have:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">config</span> <span class="kn">import</span> <span class="n">database</span>

<span class="n">database</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div><p>should now be:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">config</span> <span class="kn">import</span> <span class="n">database</span>

<span class="n">database</span><span class="o">.</span><span class="n">DB</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div><p>with this change</p>

</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>
